(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"Ja+p":function(n,l,e){"use strict";e.d(l,"a",function(){return a});var o=e("ZZ/e"),t=e("CcnG"),a=function(){function n(n){this.navCtrl=n}return n.prototype.push=function(n,l){void 0===l&&(l={}),this.data=l,this.navCtrl.navigateForward("/"+(n||""))},n.prototype.pop=function(n){this.navCtrl.navigateBack("/"+(n||""))},n.prototype.get=function(n){return this.data[n]},n.ngInjectableDef=t.defineInjectable({factory:function(){return new n(t.inject(o.NavController))},token:n,providedIn:"root"}),n}()},tZfu:function(n,l,e){"use strict";e.r(l);var o=e("CcnG"),t=e("mrSG"),a=e("ZZ/e"),r=e("KH1z"),u=e("6mc2"),i=e("H+bZ"),s=e("sJLo"),c=e("Ja+p"),d=function(){function n(n,l,e,o,t){this.modalCtrl=n,this.events=l,this.nav=e,this.tools=o,this.api=t,this.form={oper_man:null,auth_man:null,assign_desc:""},this.problemIDs=[],this.problems=[],console.log(this.nav.data),this.problemIDs=this.nav.data.problemIDs,this.problems=this.nav.data.problems}return n.prototype.ngOnInit=function(){if(this.problems.length>0){var n=this.problems[0],l=(n.accept_manid||"").replace(/NULL/g,""),e=(n.accept_manname||"").replace(/NULL/g,""),o=(n.accept_roleid||"").replace(/NULL/g,""),t=(n.accept_rolename||"").replace(/NULL/g,""),a=Object.assign({},n);a.accounttype=a.accept_unittype;var r=l,u=e,i="2";r||(r=o,u=t,i="3"),this.form.auth_man={id:r,name:u,type:i,rawData:a}}},n.prototype.selectMan1=function(n){this.showModal(n)},n.prototype.showModal=function(n){return t.__awaiter(this,void 0,void 0,function(){var l,e,o,a=this;return t.__generator(this,function(t){switch(t.label){case 0:return l="",e="",this.problems.length>0&&(l=(this.problems[0].contracttypename||"").replace(/NULL/g,""),e=(this.problems[0].contracttypeid||"").replace(/NULL/g,"")),[4,this.modalCtrl.create({component:r.a,componentProps:{title:"\u8bf7\u9009\u62e9",type:1,contractTypeName:l,contractTypeID:e}})];case 1:return(o=t.sent()).onDidDismiss().then(function(l){console.log(l),l.data&&(a.form[n]=l.data),console.log(n)}),o.present(),[2]}})})},n.prototype.commit=function(){var n=this;if(this.form.oper_man)if(this.form.auth_man){var l=this.form.oper_man.rawData.contractid.replace("NULL",""),e=this.form.oper_man.id,o=this.form.oper_man.rawData.accounttype,t=this.form.oper_man.rawData.stationid,a=this.form.auth_man.id,r=this.form.auth_man.rawData.accounttype,u=this.form.auth_man.rawData.stationid;"2"===this.form.auth_man.type?u="":"3"===this.form.auth_man.type&&(a=""),"2"===this.form.oper_man.type?t="":"3"===this.form.oper_man.type&&(e=""),console.log("\u590d\u6838\u4eba"),console.log(a),console.log(u),console.log("\u8d23\u4efb\u4eba"),console.log(e),console.log(t),this.api.POST(null,{dotype:"GetData",funname:"\u8d28\u68c0\u7cfb\u7edf\u95ee\u9898\u5206\u6d3eAPP",param1:this.problemIDs.join(","),param2:s.a.getManID(),param3:this.form.assign_desc||"",param4:"",param5:s.a.getManID(),param6:l,param7:e,param8:o,param9:t,param10:a,param11:r,param12:u,param13:"APP",param14:"0"}).then(function(l){0===l.code?l.data&&l.data.length>0&&("1"===l.data[0].ihint_type?(n.tools.showToast("\u5206\u6d3e\u6210\u529f"),n.events.publish("reload.problem"),n.nav.pop("assignments")):n.tools.showToast(l.data[0].hint_message)):n.tools.showToast("\u672a\u77e5\u9519\u8bef")}).catch(function(n){})}else this.tools.showToast("\u590d\u6838\u4eba\u5458\u4e0d\u80fd\u4e3a\u7a7a");else this.tools.showToast("\u5904\u7406\u4eba\u5458\u4e0d\u80fd\u4e3a\u7a7a")},n.prototype.formatManName=function(n,l,e){if(n&&n[l]){var o=n[l].rawData;return o?o.accounttype+"-"+n[l].name:n[l].name}return e},n}(),m=function(){return function(){}}(),p=e("pMnS"),g=e("NAMV"),f=e("4PO/"),h=e("oBZk"),C=e("gIcY"),v=o["\u0275crt"]({encapsulation:0,styles:[[".required[_ngcontent-%COMP%]{color:#e75a16;padding-right:3px}"]],data:{}});function _(n){return o["\u0275vid"](0,[(n()(),o["\u0275eld"](0,0,null,null,11,"ion-header",[["no-border",""]],null,null,null,h.T,h.n)),o["\u0275did"](1,49152,null,0,a.IonHeader,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(n()(),o["\u0275eld"](2,0,null,0,9,"ion-toolbar",[["color","primary"]],null,null,null,h.kb,h.E)),o["\u0275did"](3,49152,null,0,a.IonToolbar,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],{color:[0,"color"]},null),(n()(),o["\u0275eld"](4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,h.J,h.d)),o["\u0275did"](5,49152,null,0,a.IonButtons,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(n()(),o["\u0275eld"](6,0,null,0,2,"ion-back-button",[["default-href","assignments"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==o["\u0275nov"](n,8).onClick(e)&&t),t},h.H,h.b)),o["\u0275did"](7,49152,null,0,a.IonBackButton,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),o["\u0275did"](8,16384,null,0,a.IonBackButtonDelegate,[[2,a.IonRouterOutlet],a.NavController],null,null),(n()(),o["\u0275eld"](9,0,null,0,2,"ion-title",[],null,null,null,h.jb,h.D)),o["\u0275did"](10,49152,null,0,a.IonTitle,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(n()(),o["\u0275ted"](-1,0,[" \u6d3e\u5355 "])),(n()(),o["\u0275eld"](12,0,null,null,39,"ion-content",[],null,null,null,h.P,h.j)),o["\u0275did"](13,49152,null,0,a.IonContent,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(n()(),o["\u0275eld"](14,0,null,0,33,"ion-list",[],null,null,null,h.ab,h.u)),o["\u0275did"](15,49152,null,0,a.IonList,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(n()(),o["\u0275eld"](16,0,null,0,9,"ion-item",[["tappable",""]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.selectMan1("oper_man")&&o),o},h.Y,h.s)),o["\u0275did"](17,49152,null,0,a.IonItem,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(n()(),o["\u0275eld"](18,0,null,0,4,"ion-label",[["style","font-size: 14px;color: #333;"]],null,null,null,h.Z,h.t)),o["\u0275did"](19,49152,null,0,a.IonLabel,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(n()(),o["\u0275eld"](20,0,null,0,1,"span",[["class","required"]],null,null,null,null,null)),(n()(),o["\u0275ted"](-1,null,["*"])),(n()(),o["\u0275ted"](-1,0,["\u5904\u7406\u4eba\u5458"])),(n()(),o["\u0275eld"](23,0,null,0,2,"ion-note",[["item-right",""],["style","color: #999;font-size: 14px;"]],null,null,null,h.bb,h.v)),o["\u0275did"](24,49152,null,0,a.IonNote,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(n()(),o["\u0275ted"](25,0,[""," "])),(n()(),o["\u0275eld"](26,0,null,0,9,"ion-item",[["tappable",""]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.selectMan1("auth_man")&&o),o},h.Y,h.s)),o["\u0275did"](27,49152,null,0,a.IonItem,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(n()(),o["\u0275eld"](28,0,null,0,4,"ion-label",[["style","font-size: 14px; color: #333;"]],null,null,null,h.Z,h.t)),o["\u0275did"](29,49152,null,0,a.IonLabel,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(n()(),o["\u0275eld"](30,0,null,0,1,"span",[["class","required"]],null,null,null,null,null)),(n()(),o["\u0275ted"](-1,null,["*"])),(n()(),o["\u0275ted"](-1,0,["\u590d\u6838\u4eba\u5458"])),(n()(),o["\u0275eld"](33,0,null,0,2,"ion-note",[["item-right",""],["style","color: #999;font-size: 14px;"]],null,null,null,h.bb,h.v)),o["\u0275did"](34,49152,null,0,a.IonNote,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(n()(),o["\u0275ted"](35,0,[""," "])),(n()(),o["\u0275eld"](36,0,null,0,11,"ion-item",[],null,null,null,h.Y,h.s)),o["\u0275did"](37,49152,null,0,a.IonItem,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(n()(),o["\u0275eld"](38,0,null,0,2,"ion-label",[["style","font-size: 14px; color: #333;"]],null,null,null,h.Z,h.t)),o["\u0275did"](39,49152,null,0,a.IonLabel,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(n()(),o["\u0275ted"](-1,0,["\u6d3e\u5355\u8bf4\u660e"])),(n()(),o["\u0275eld"](41,0,null,0,6,"ion-textarea",[["placeholder","\u8f93\u5165\u6d3e\u5355\u8bf4\u660e"],["rows","6"],["style","font-size: 14px;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0,a=n.component;return"ionBlur"===l&&(t=!1!==o["\u0275nov"](n,42)._handleBlurEvent(e.target)&&t),"ionChange"===l&&(t=!1!==o["\u0275nov"](n,42)._handleInputEvent(e.target)&&t),"ngModelChange"===l&&(t=!1!==(a.form.assign_desc=e)&&t),t},h.ib,h.C)),o["\u0275did"](42,16384,null,0,a.TextValueAccessor,[o.ElementRef],null,null),o["\u0275prd"](1024,null,C.NG_VALUE_ACCESSOR,function(n){return[n]},[a.TextValueAccessor]),o["\u0275did"](44,671744,null,0,C.NgModel,[[8,null],[8,null],[8,null],[6,C.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),o["\u0275prd"](2048,null,C.NgControl,null,[C.NgModel]),o["\u0275did"](46,16384,null,0,C.NgControlStatus,[[4,C.NgControl]],null,null),o["\u0275did"](47,49152,null,0,a.IonTextarea,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],{placeholder:[0,"placeholder"],rows:[1,"rows"]},null),(n()(),o["\u0275eld"](48,0,null,0,3,"div",[["padding",""]],null,null,null,null,null)),(n()(),o["\u0275eld"](49,0,null,null,2,"ion-button",[["expand","block"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.commit()&&o),o},h.I,h.c)),o["\u0275did"](50,49152,null,0,a.IonButton,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],{expand:[0,"expand"]},null),(n()(),o["\u0275ted"](-1,0,["\u63d0 \u4ea4"]))],function(n,l){var e=l.component;n(l,3,0,"primary"),n(l,44,0,e.form.assign_desc),n(l,47,0,"\u8f93\u5165\u6d3e\u5355\u8bf4\u660e","6"),n(l,50,0,"block")},function(n,l){var e=l.component;n(l,25,0,e.formatManName(e.form,"oper_man","\u9009\u62e9\u5904\u7406\u4eba\u5458")),n(l,35,0,e.formatManName(e.form,"auth_man","\u9009\u62e9\u590d\u6838\u4eba\u5458")),n(l,41,0,o["\u0275nov"](l,46).ngClassUntouched,o["\u0275nov"](l,46).ngClassTouched,o["\u0275nov"](l,46).ngClassPristine,o["\u0275nov"](l,46).ngClassDirty,o["\u0275nov"](l,46).ngClassValid,o["\u0275nov"](l,46).ngClassInvalid,o["\u0275nov"](l,46).ngClassPending)})}function b(n){return o["\u0275vid"](0,[(n()(),o["\u0275eld"](0,0,null,null,1,"app-assign-form",[],null,null,null,_,v)),o["\u0275did"](1,114688,null,0,d,[a.ModalController,a.Events,c.a,u.a,i.a],null,null)],function(n,l){n(l,1,0)},null)}var R=o["\u0275ccf"]("app-assign-form",d,b,{},{},[]),N=e("Ip0R"),y=e("ZYCi"),D=e("l4Sw"),I=e("j1ZV"),Z=e("PdO7");e.d(l,"AssignFormPageModuleNgFactory",function(){return M});var M=o["\u0275cmf"](m,[],function(n){return o["\u0275mod"]([o["\u0275mpd"](512,o.ComponentFactoryResolver,o["\u0275CodegenComponentFactoryResolver"],[[8,[p.a,g.a,f.a,R]],[3,o.ComponentFactoryResolver],o.NgModuleRef]),o["\u0275mpd"](4608,N.NgLocalization,N.NgLocaleLocalization,[o.LOCALE_ID,[2,N["\u0275angular_packages_common_common_a"]]]),o["\u0275mpd"](4608,C["\u0275angular_packages_forms_forms_j"],C["\u0275angular_packages_forms_forms_j"],[]),o["\u0275mpd"](4608,a.AngularDelegate,a.AngularDelegate,[o.NgZone,o.ApplicationRef]),o["\u0275mpd"](4608,a.ModalController,a.ModalController,[a.AngularDelegate,o.ComponentFactoryResolver,o.Injector]),o["\u0275mpd"](4608,a.PopoverController,a.PopoverController,[a.AngularDelegate,o.ComponentFactoryResolver,o.Injector]),o["\u0275mpd"](1073742336,N.CommonModule,N.CommonModule,[]),o["\u0275mpd"](1073742336,C["\u0275angular_packages_forms_forms_bc"],C["\u0275angular_packages_forms_forms_bc"],[]),o["\u0275mpd"](1073742336,C.FormsModule,C.FormsModule,[]),o["\u0275mpd"](1073742336,a.IonicModule,a.IonicModule,[]),o["\u0275mpd"](1073742336,y.n,y.n,[[2,y.t],[2,y.m]]),o["\u0275mpd"](1073742336,D.a,D.a,[]),o["\u0275mpd"](1073742336,I.a,I.a,[]),o["\u0275mpd"](1073742336,Z.a,Z.a,[]),o["\u0275mpd"](1073742336,m,m,[]),o["\u0275mpd"](1024,y.k,function(){return[[{path:"",component:d}]]},[])])})}}]);