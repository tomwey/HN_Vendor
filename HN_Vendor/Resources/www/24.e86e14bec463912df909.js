(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"4IN5":function(t,n,e){"use strict";e.d(n,"a",function(){return o});var o=function(){function t(t){this.renderer=t}return t.prototype.ngOnInit=function(){this.expandedHeight&&this.renderer.setElementStyle(this.wrapper.nativeElement,"height",this.expandedHeight+"px")},t}()},A6Y8:function(t,n,e){"use strict";e.d(n,"a",function(){return s});var o=e("ajt+"),i=e("H+bZ"),l=e("fLog"),c=e("6mc2"),a=e("CcnG"),s=function(){function t(t,n,e){this.db=t,this.api=n,this.tools=e}return t.prototype.getTasks=function(t,n,e,o){var i=this;void 0===o&&(o=!0),o&&this.tools.showLoading(),60!==t&&70!==t?this.db.initDB().then(function(){i.db.getSingleCondData(l.l,"iscomplete",n.toString(),function(t){e&&e(t),i.tools.hideLoading()})}):this.db.initDB().then(function(){i.db.getSingleCondData(l.l,"type_complete",[t.toString(),n.toString()],function(t){e&&e(t),i.tools.hideLoading()})})},t.prototype.getBuildings=function(t,n,e,o){var i=this;void 0===t&&(t=0),void 0===e&&(e="0"),void 0===o&&(o=""),this.db.initDB().then(function(){i.db.getBuildings("1",null,t,n,e,o)})},t.prototype.confirmDone=function(t,n){var e=this,o=Object.assign({},t);o.iscomplete="1",o.isupdate="1",this.db.initDB().then(function(){e.db.update(l.l,[o],function(e){t.iscomplete="1",n&&n()})})},t.prototype.getUnits=function(t,n,e,o,i){var l=this;void 0===i&&(i=""),this.db.initDB().then(function(){l.db.getBuildings("0",n,t,e,o,i)})},t.prototype.getFloors=function(t,n,e,o,i){var l=this;void 0===i&&(i=""),this.db.initDB().then(function(){l.db.getBuildings("0",n,t,function(n){n.forEach(function(n){l.db.getBuildings("0",n.tree_mid,t,function(t){t.sort(function(t,n){return parseInt(t.iorder)-parseInt(n.iorder)}),n.rooms=t},o,i)}),e&&e(n)},o,i)})},t.prototype.getFloors2=function(t,n,e,o,i,l){var c=this;void 0===i&&(i=""),void 0===l&&(l=!0),this.db.initDB().then(function(){c.db.getBuildings("0",n,t,function(n){n.forEach(function(n){c.db.getBuildings("0",n.tree_mid,t,function(t){var e=[];(e=l?t:t.filter(function(t){return"\u5b8c\u6210"!==t.state_desc})).sort(function(t,n){return parseInt(t.iorder)-parseInt(n.iorder)}),n.rooms=e},o,i)}),e&&e(n)},o,i)})},t.prototype.getListInHouse=function(t,n,e){var o=this;this.db.initDB().then(function(){o.db.getListInhouse(n,function(t){e&&e(t)})})},t.prototype.getListInHouse2=function(t,n,e,o){var i=this;this.db.initDB().then(function(){i.db.getSingleCondData("list_inhouse","objtypename",e,function(e){e.forEach(function(e){i.db.getPartialsInHouse2(t,n,e.position_id,function(n){console.log(n);var o=[],i={},l=[];n.forEach(function(n){if(n.template_type===t){var c=n.qatype_name+"|"+n.qatype_id;-1===o.indexOf(c)&&(o.push(c),l.push({qatype_id:n.qatype_id,qatype_name:n.qatype_name}));var a=i[c]||[];n.pro_position_id=e.pro_position_id,a.push(n),i[c]=a}}),e.check_items=l,e.type_items=i})}),o&&o(e)})})},t.prototype.getAccountTypes=function(t){var n=this;this.db.initDB().then(function(){n.db.select(l.c,[],{},function(n){t&&t(n)})})},t.prototype.getCheckTypes=function(t){var n=this;this.db.initDB().then(function(){n.db.select(l.d,[],{},function(n){t&&t(n)})})},t.prototype.getTypeCompanies=function(t,n){var e=this;this.db.initDB().then(function(){e.db.getSingleCondData(l.a,"accountType",t,function(t){var e=[],o=[];t.forEach(function(t){-1===e.indexOf(t.companyname)&&(e.push(t.companyname),o.push({name:t.companyname,rawData:t}))}),n&&n(o)})})},t.prototype.getTypeCompanies2=function(t,n){var e=this;this.db.initDB().then(function(){e.db.getSingleCondData(l.b,"accountType",t,function(e){console.log("fsfsdfdsfdsfdsf:",t,t);var o=[],i=[];e.forEach(function(t){-1===o.indexOf(t.companyname)&&(o.push(t.companyname),i.push({name:t.companyname,rawData:t}))}),n&&n(i)})})},t.prototype.getStationsOrMen=function(t,n){var e=this;this.db.initDB().then(function(){e.db.getSingleCondData(l.a,"contractId",t,function(t){var e=[],o=[],i=[];t.forEach(function(t){"1"===t.ismanage&&-1===i.indexOf(t.id)&&(i.push(t.id),e.push({name:t.manname,id:t.id,type:"2",rawData:t})),-1===o.indexOf(t.stationid)&&(o.push(t.stationid),e.push({name:t.stationname,id:t.stationid,type:"3",rawData:t}))}),n&&n(e)})})},t.prototype.getStationsOrMen2=function(t,n){var e=this;this.db.initDB().then(function(){console.log("conid======",t),e.db.getSingleCondData(l.b,"contractId",t,function(t){var e=[],o=[],i=[];t.forEach(function(t){"1"===t.ismanage&&-1===i.indexOf(t.id)&&(i.push(t.id),e.push({name:t.manname,id:t.id,type:"2",rawData:t})),-1===o.indexOf(t.stationid)&&(o.push(t.stationid),e.push({name:t.stationname,id:t.stationid,type:"3",rawData:t}))}),n&&n(e)})})},t.prototype.getCompanyContracts2=function(t,n){var e=this;this.db.initDB().then(function(){e.db.getSingleCondData(l.b,"companyName",t,function(t){var e=[],o=[],i=[],l=[];t.forEach(function(t){t.contractname&&"NULL"!==t.contractname?-1===e.indexOf(t.contractid)&&(e.push(t.contractid),o.push({name:t.contractname,id:t.contractid,type:"1",rawData:t})):("1"===t.ismanage&&-1===l.indexOf(t.id)&&(l.push(t.id),o.push({name:t.manname,id:t.id,type:"2",rawData:t})),-1===i.indexOf(t.stationid)&&(i.push(t.stationid),o.push({name:t.stationname,id:t.stationid,type:"3",rawData:t})))}),n&&n(o)})})},t.prototype.getCompanyContracts=function(t,n){var e=this;this.db.initDB().then(function(){e.db.getSingleCondData(l.a,"companyName",t,function(t){var e=[],o=[],i=[],l=[];t.forEach(function(t){t.contractname&&"NULL"!==t.contractname?-1===e.indexOf(t.contractid)&&(e.push(t.contractid),o.push({name:t.contractname,id:t.contractid,type:"1",rawData:t})):("1"===t.ismanage&&-1===l.indexOf(t.id)&&(l.push(t.id),o.push({name:t.manname,id:t.id,type:"2",rawData:t})),-1===i.indexOf(t.stationid)&&(i.push(t.stationid),o.push({name:t.stationname,id:t.stationid,type:"3",rawData:t})))}),n&&n(o)})})},t.ngInjectableDef=a.defineInjectable({factory:function(){return new t(a.inject(o.a),a.inject(i.a),a.inject(c.a))},token:t,providedIn:"root"}),t}()},DOIc:function(t,n,e){"use strict";e.r(n);var o=e("CcnG"),i=e("A6Y8"),l=e("Ja+p"),c=e("ajt+"),a=e("fLog"),s=e("ZZ/e"),r=e("6mc2"),u=function(){function t(t,n,e,o,i){var l=this;this.taskData=t,this.tools=n,this.events=e,this.db=o,this.nav=i,this.selectedItems=[],this.isAll=!1,this.currentIndex=0,this.roomItem=null,this.positions=[],this.positionData={},this.positionData2={},this.totalItems=0,this.currRejectItem=null,this.totalSize=0,this.roomItem=this.nav.data,this.events.subscribe("que.notify",function(t){"0"===t&&l.currRejectItem&&(l.currRejectItem.reject=!l.currRejectItem.reject)})}return t.prototype.ngOnInit=function(){this.loadData()},t.prototype.loadData=function(){var t=this;this.tools.showLoading(),this.taskData.getListInHouse2(this.roomItem.template_type,this.roomItem.checkup_id,this.roomItem.objecttype_name,function(n){console.log(n),t.positions=n,t.tools.hideLoading()})},t.prototype.prepareData=function(t){var n=0;if(t&&t.length>0){var e=[],o={},i=[];t.forEach(function(t){var l=t.position_name+"|"+t.pro_position_id;-1===e.indexOf(l)&&(e.push(l),i.push({position_name:t.position_name,position_id:t.pro_position_id}));var c=o[l]||[];"0"===t.state_num&&(c.push(t),n++),o[l]=c}),this.positionData=o,this.positions=i,console.log(this.positionData)}this.totalItems=n},t.prototype.prepareData2=function(t){var n=0;if(t&&t.length>0){var e=[],o=[],i={},l={},c=[],a=[];t.forEach(function(t){var s=t.position_name+"|"+t.pro_position_id;-1===e.indexOf(s)&&(e.push(s),c.push({position_name:t.position_name,position_id:t.pro_position_id}));var r=t.qatype_name+"|"+t.qatype_id;-1===o.indexOf(r)&&(o.push(r),a.push({qatype_name:t.qatype_name,qatype_id:t.qatype_id})),i[s]=a;var u=t.qatype_name+"|"+t.qatype_id+"|"+t.pro_position_id,d=l[u]||[];d.push(t),n++,l[u]=d}),this.positionData=i,this.positions=c,this.positionData2=l,console.log(i),console.log(l)}this.totalItems=n},t.prototype.positionCheckItems=function(t){return this.positions[t].check_items},t.prototype.positionCheckItems2=function(t,n){return this.positions[n].type_items[t.qatype_name+"|"+t.qatype_id]||[]},t.prototype.selectMenu=function(t){var n=this;this.currentIndex=t,this.selectedItems=[];var e=this.positionCheckItems(this.currentIndex);console.log(e);var o=0;e.forEach(function(t){var e=0,i=n.positionCheckItems2(t,n.currentIndex);i.forEach(function(t){t.selected&&(n.selectedItems.push(t),e++)}),t.selectAll=e===i.length,console.log(i),t.selectAll&&o++}),this.isAll=o>0&&e.length===o},t.prototype.selectItem=function(t,n){var e=this;if(n.stopPropagation(),t.selected=!t.selected,t.selected)this.selectedItems.push(t);else{var o=this.selectedItems.indexOf(t);-1!==o&&this.selectedItems.splice(o,1)}if(this.currentIndex<this.positions.length){var i=0,l=this.positionCheckItems(this.currentIndex);l.forEach(function(t){var n=e.positionCheckItems2(t,e.currentIndex),o=0;n.forEach(function(t){-1!==e.selectedItems.indexOf(t)&&o++}),t.selectAll=o===n.length,t.selectAll&&i++}),this.isAll=i>0&&l.length===i}},t.prototype.selectAll=function(){var t=this;this.isAll=!this.isAll,this.positionCheckItems(this.currentIndex).forEach(function(n){n.selectAll=t.isAll,t.positionCheckItems2(n,t.currentIndex).map(function(n){n.selected=t.isAll}),t.isAll&&(t.selectedItems=t.selectedItems.concat(t.positionCheckItems2(n,t.currentIndex)))}),this.isAll||(this.selectedItems=[])},t.prototype.toggle=function(t){if(t.reject=!t.reject,this.currRejectItem=t,console.log(t),console.log(this.roomItem),t.reject){var n=Object.assign({},t);n.roomItem=Object.assign({},this.roomItem),this.nav.push("add-que",{plan_mid:this.roomItem.plan_mid,fromType:"0",backTo:"check-place-list",checkup_id:this.roomItem.checkup_id,checkup_type:this.roomItem.checkup_type,curr_problem:n})}},t.prototype.confirm=function(){var t=this;if(0!==this.selectedItems.length){var n=[];this.selectedItems.forEach(function(e){var o={};o.qaitem_id=e.qaitem_id,o.object_type=t.roomItem.object_type,o.object_id=t.roomItem.object_id,o.plan_mid=t.roomItem.plan_mid,o.pro_position_id=e.pro_position_id,o.is_problem=e.reject?"1":"0",o.isupdate="1",o.state_num="1",n.push(o)});var e=Object.assign({},this.roomItem);this.totalItems===this.selectedItems.length?(this.roomItem.state_desc="\u5b8c\u6210",e.state_desc="\u5b8c\u6210",e.isupdate="1",this.db.initDB().then(function(){t.db.update(a.m,[e],function(){})})):(this.roomItem.state_desc="\u68c0\u67e5\u4e2d",e.state_desc="\u68c0\u67e5\u4e2d",e.isupdate="1",this.db.initDB().then(function(){t.db.update(a.m,[e],function(){})})),this.db.initDB().then(function(){console.log(n),t.db.update(a.n,n,function(){0===t.totalSize?(t.events.publish("reload.checkitem.select"),t.nav.pop("check-place-home")):t.tools.showToast("\u6210\u529f\u786e\u8ba4\u4e86"+t.selectedItems.length+"\u6761\u68c0\u67e5\u9879")})})}},t}(),d=function(){return function(){}}(),h=e("NAMV"),p=e("pMnS"),g=e("Ip0R"),m=e("oBZk"),f=function(){function t(){this.on=!1,this.change=new o.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.toggle=function(t){t.stopPropagation(),this.on=!this.on,this.change.emit(this.on)},t}(),_=o["\u0275crt"]({encapsulation:0,styles:[[".switch[_ngcontent-%COMP%]{display:inline-block;width:76px;height:34px;border-radius:40px;background:#ccc;position:relative}.switch.animate.off[_ngcontent-%COMP%], .switch.animate.off[_ngcontent-%COMP%]   .switch-inner[_ngcontent-%COMP%], .switch.animate.off[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%], .switch.animate.on[_ngcontent-%COMP%], .switch.animate.on[_ngcontent-%COMP%]   .switch-inner[_ngcontent-%COMP%], .switch.animate.on[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{transition:all .3s ease}.switch.on[_ngcontent-%COMP%]   .switch-inner[_ngcontent-%COMP%]{left:44px}.switch.on[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{left:5px}.switch.off[_ngcontent-%COMP%]   .switch-inner[_ngcontent-%COMP%]{left:2px}.switch.off[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{left:32px}.switch[_ngcontent-%COMP%]   .switch-inner[_ngcontent-%COMP%]{position:absolute;top:2px;display:inline-block;width:30px;height:30px;border-radius:30px;background:#efefef}.switch[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:absolute;top:2px;display:inline-block;width:40px;height:30px;line-height:30px;color:#fff;font-size:15px;text-align:center;vertical-align:middle;font-family:'PingFang SC',Arial,Helvetica,sans-serif}"]],data:{}});function v(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,3,"div",[["class","switch animate"],["tappable",""]],[[2,"on",null],[4,"background",null],[2,"off",null]],[[null,"click"]],function(t,n,e){var o=!0;return"click"===n&&(o=!1!==t.component.toggle(e)&&o),o},null,null)),(t()(),o["\u0275eld"](1,0,null,null,0,"div",[["class","switch-inner"]],null,null,null,null,null)),(t()(),o["\u0275eld"](2,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(t()(),o["\u0275ted"](3,null,["",""]))],null,function(t,n){var e=n.component;t(n,0,0,e.on,e.on?e.onColor:e.offColor,!e.on),t(n,3,0,e.on?e.onText:e.offText)})}var C=e("J+Oa"),x=e("4IN5"),M=o["\u0275crt"]({encapsulation:0,styles:[['.main-content[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;overflow:hidden}.main-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex:0 0 100px;width:100px;height:100%;overflow:auto;background:#f7f7f7;-ms-overflow-style:none}.main-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]::-webkit-scrollbar{display:none;width:0!important}.main-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{position:relative;padding:0 15px;height:50px;font-size:14px;display:flex;align-items:center;color:#333;font-weight:700;border-bottom:1px solid #fff}.main-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]{background:#fff;color:#e75a16}.main-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]::before{content:"";display:block;width:3px;height:46px;position:absolute;top:2px;left:0}.main-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .menu-item.menu-type-1[_ngcontent-%COMP%]::before{background:#e75a16}.main-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .menu-item.menu-type-2[_ngcontent-%COMP%]::before{background:#5c9ad8}.main-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;display:inline-block;height:18px;line-height:18px;background:#e75a16;color:#fff;font-size:12px;padding:0 6px;border-radius:10px;margin-top:-9px;font-weight:400}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:1;width:calc(100% - 100px);height:100%;position:relative}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{box-shadow:none;margin:0;border-bottom:.55px solid #f2f2f2;border-radius:0}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .bottom-bar[_ngcontent-%COMP%]{position:absolute;width:100%;height:44px;left:0;bottom:0;background:#fff;border-top:.55px solid #f2f2f2}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .bottom-bar[_ngcontent-%COMP%]   [col-6][_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .bottom-bar[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .bottom-bar[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{margin:0;padding:0}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .bottom-bar[_ngcontent-%COMP%]   .sec-box[_ngcontent-%COMP%]{width:100%;height:44px;line-height:44px;background:#fff;color:#999;font-size:14px;padding:0 15px}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .bottom-bar[_ngcontent-%COMP%]   .sec-box[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{vertical-align:-4px;font-size:20px}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .bottom-bar[_ngcontent-%COMP%]   .sec-box.confirm[_ngcontent-%COMP%]{background:#e75a16;text-align:center;color:#fff;border-top:0}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .bottom-bar[_ngcontent-%COMP%]   .sec-box.disabled.confirm[_ngcontent-%COMP%]{background:#ccc}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .bottom-bar[_ngcontent-%COMP%]   .sec-box.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#e75a16}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .check-list[_ngcontent-%COMP%]{height:calc(100% - 50px);overflow-x:hidden;overflow-y:auto}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .check-list[_ngcontent-%COMP%]   .typename[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#333}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .check-list[_ngcontent-%COMP%]   .qa-type-name[_ngcontent-%COMP%]{padding:16px;position:relative;font-size:14px;color:#333;font-weight:700}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .check-list[_ngcontent-%COMP%]   .qa-type-name[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;vertical-align:-4px;color:#999;margin-right:3px}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .check-list[_ngcontent-%COMP%]   .qa-type-name[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]{position:absolute;top:17px;right:10px}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .check-list[_ngcontent-%COMP%]   .qa-type-name.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#e75a16}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .check-list[_ngcontent-%COMP%]   .qa-type-name.selected[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]{color:#999!important}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .check-list[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;color:#333}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .check-list[_ngcontent-%COMP%]   .rule[_ngcontent-%COMP%]{font-size:12px;color:#999}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .check-list[_ngcontent-%COMP%]   .selected-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;vertical-align:-3px;color:#999}.main-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .check-list[_ngcontent-%COMP%]   .selected-state.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#e75a16}.main-content[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{display:flex;align-items:center;background:#67c23a;width:72px;padding:3px;border-radius:50px;flex-direction:row}.main-content[_ngcontent-%COMP%]   .switch.off[_ngcontent-%COMP%]{background:#e75a16;flex-direction:row-reverse}.main-content[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{flex:0 0 24px;width:24px;height:24px;border-radius:30px;background:#efefef}.main-content[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:0 0 40px;color:#fff;font-size:14px;text-align:center}']],data:{}});function b(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"span",[["class","badge"]],null,null,null,null,null)),(t()(),o["\u0275ted"](1,null,["",""]))],null,function(t,n){t(n,1,0,n.parent.context.$implicit.warningnum)})}function P(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,4,"div",[["class","menu-item"],["tappable",""]],[[2,"active",null]],[[null,"click"]],function(t,n,e){var o=!0;return"click"===n&&(o=!1!==t.component.selectMenu(t.context.index)&&o),o},null,null)),(t()(),o["\u0275eld"](1,0,null,null,1,"span",[["class","name"]],null,null,null,null,null)),(t()(),o["\u0275ted"](2,null,["",""])),(t()(),o["\u0275and"](16777216,null,null,1,null,b)),o["\u0275did"](4,16384,null,0,g.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,4,0,n.context.$implicit.warningnum&&"0"!=n.context.$implicit.warningnum&&"NULL"!=n.context.$implicit.warningnum)},function(t,n){t(n,0,0,n.component.currentIndex===n.context.index),t(n,2,0,n.context.$implicit.position_name)})}function y(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,13,"ion-item",[["tappable",""]],null,[[null,"click"]],function(t,n,e){var o=!0;return"click"===n&&(o=!1!==t.component.selectItem(t.context.$implicit,e)&&o),o},m.Y,m.s)),o["\u0275did"](1,49152,null,0,s.IonItem,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275eld"](2,0,null,0,2,"span",[["class","selected-state"],["slot","start"]],[[2,"selected",null]],null,null,null,null)),(t()(),o["\u0275eld"](3,0,null,null,1,"ion-icon",[],null,null,null,m.U,m.o)),o["\u0275did"](4,49152,null,0,s.IonIcon,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],{name:[0,"name"]},null),(t()(),o["\u0275eld"](5,0,null,0,5,"ion-label",[],null,null,null,m.Z,m.t)),o["\u0275did"](6,49152,null,0,s.IonLabel,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275eld"](7,0,null,0,1,"h2",[["class","name"],["text-wrap",""]],null,null,null,null,null)),(t()(),o["\u0275ted"](8,null,["",""])),(t()(),o["\u0275eld"](9,0,null,0,1,"p",[["class","rule"],["text-wrap",""]],null,null,null,null,null)),(t()(),o["\u0275ted"](10,null,[" "," "])),(t()(),o["\u0275eld"](11,0,null,0,2,"div",[["slot","end"],["style","padding-top: 5px;"]],null,null,null,null,null)),(t()(),o["\u0275eld"](12,0,null,null,1,"hn-switch",[],null,[[null,"change"]],function(t,n,e){var o=!0;return"change"===n&&(o=!1!==t.component.toggle(t.context.$implicit)&&o),o},v,_)),o["\u0275did"](13,114688,null,0,f,[],{on:[0,"on"],onText:[1,"onText"],onColor:[2,"onColor"],offText:[3,"offText"],offColor:[4,"offColor"]},{change:"change"})],function(t,n){t(n,4,0,o["\u0275inlineInterpolate"](1,"",n.context.$implicit.selected?"ios-checkmark-circle":"ios-radio-button-off","")),t(n,13,0,n.context.$implicit.reject,"\u4e0d\u5408\u683c","rgb(231,90,22)","\u5408\u683c","#67C23A")},function(t,n){t(n,2,0,n.context.$implicit.selected),t(n,8,0,n.context.$implicit.qaitem_name),t(n,10,0,n.context.$implicit.stand_name)})}function O(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,14,"ion-card",[["tappable",""]],null,[[null,"click"]],function(t,n,e){var o=!0;return"click"===n&&(o=0!=(t.parent.context.$implicit.expanded=!t.parent.context.$implicit.expanded)&&o),o},m.N,m.e)),o["\u0275did"](1,49152,null,0,s.IonCard,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275eld"](2,0,null,0,6,"ion-card-header",[["class","qa-type-name"],["text-wrap",""]],[[2,"selected",null]],null,null,m.K,m.f)),o["\u0275did"](3,49152,null,0,s.IonCardHeader,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275eld"](4,0,null,0,1,"ion-icon",[],null,null,null,m.U,m.o)),o["\u0275did"](5,49152,null,0,s.IonIcon,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],{name:[0,"name"]},null),(t()(),o["\u0275ted"](6,0,[""," "])),(t()(),o["\u0275eld"](7,0,null,0,1,"ion-icon",[["class","expand-icon"]],null,null,null,m.U,m.o)),o["\u0275did"](8,49152,null,0,s.IonIcon,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],{name:[0,"name"]},null),(t()(),o["\u0275eld"](9,0,null,0,5,"app-accordion-list",[["style","display: block; width: 100%;"]],null,null,null,C.b,C.a)),o["\u0275did"](10,114688,null,0,x.a,[o.Renderer],{expanded:[0,"expanded"],expandedHeight:[1,"expandedHeight"]},null),(t()(),o["\u0275eld"](11,0,null,0,3,"ion-list",[],null,null,null,m.ab,m.u)),o["\u0275did"](12,49152,null,0,s.IonList,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275and"](16777216,null,0,1,null,y)),o["\u0275did"](14,278528,null,0,g.NgForOf,[o.ViewContainerRef,o.TemplateRef,o.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,n){var e=n.component;t(n,5,0,o["\u0275inlineInterpolate"](1,"",n.parent.context.$implicit.selectAll?"ios-checkmark-circle":"ios-radio-button-off","")),t(n,8,0,o["\u0275inlineInterpolate"](1,"",n.parent.context.$implicit.expanded?"arrow-down":"arrow-forward","")),t(n,10,0,n.parent.context.$implicit.expanded,0),t(n,14,0,e.positionCheckItems2(n.parent.context.$implicit,e.currentIndex))},function(t,n){t(n,2,0,n.parent.context.$implicit.selectAll),t(n,6,0,n.parent.context.$implicit.qatype_name)})}function w(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,O)),o["\u0275did"](2,16384,null,0,g.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,e.positionCheckItems2(n.context.$implicit,e.currentIndex).length>0)},null)}function I(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,2,"div",[["class","check-list"]],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,w)),o["\u0275did"](2,278528,null,0,g.NgForOf,[o.ViewContainerRef,o.TemplateRef,o.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,n){var e=n.component;t(n,2,0,e.positionCheckItems(e.currentIndex))},null)}function k(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,11,"ion-header",[["no-border",""]],null,null,null,m.T,m.n)),o["\u0275did"](1,49152,null,0,s.IonHeader,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275eld"](2,0,null,0,9,"ion-toolbar",[["color","primary"]],null,null,null,m.kb,m.E)),o["\u0275did"](3,49152,null,0,s.IonToolbar,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],{color:[0,"color"]},null),(t()(),o["\u0275eld"](4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,m.J,m.d)),o["\u0275did"](5,49152,null,0,s.IonButtons,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275eld"](6,0,null,0,2,"ion-back-button",[["default-href","check-place-home"]],null,[[null,"click"]],function(t,n,e){var i=!0;return"click"===n&&(i=!1!==o["\u0275nov"](t,8).onClick(e)&&i),i},m.H,m.b)),o["\u0275did"](7,49152,null,0,s.IonBackButton,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),o["\u0275did"](8,16384,null,0,s.IonBackButtonDelegate,[[2,s.IonRouterOutlet],s.NavController],null,null),(t()(),o["\u0275eld"](9,0,null,0,2,"ion-title",[],null,null,null,m.jb,m.D)),o["\u0275did"](10,49152,null,0,s.IonTitle,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275ted"](-1,0,["\u8d28\u68c0\u6e05\u5355"])),(t()(),o["\u0275eld"](12,0,null,null,22,"ion-content",[],null,null,null,m.P,m.j)),o["\u0275did"](13,49152,null,0,s.IonContent,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275eld"](14,0,null,0,20,"div",[["class","main-content"]],null,null,null,null,null)),(t()(),o["\u0275eld"](15,0,null,null,3,"div",[["class","left"]],null,null,null,null,null)),(t()(),o["\u0275eld"](16,0,null,null,2,"div",[["class","menu"]],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,P)),o["\u0275did"](18,278528,null,0,g.NgForOf,[o.ViewContainerRef,o.TemplateRef,o.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),o["\u0275eld"](19,0,null,null,15,"div",[["class","right"]],null,null,null,null,null)),(t()(),o["\u0275and"](16777216,null,null,1,null,I)),o["\u0275did"](21,16384,null,0,g.NgIf,[o.ViewContainerRef,o.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),o["\u0275eld"](22,0,null,null,12,"div",[["class","bottom-bar"]],null,null,null,null,null)),(t()(),o["\u0275eld"](23,0,null,null,11,"ion-row",[],null,null,null,m.cb,m.w)),o["\u0275did"](24,49152,null,0,s.IonRow,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275eld"](25,0,null,0,5,"ion-col",[["col-6",""]],null,null,null,m.O,m.i)),o["\u0275did"](26,49152,null,0,s.IonCol,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275eld"](27,0,null,0,3,"div",[["class","sec-box"],["tappable",""]],[[2,"selected",null]],[[null,"click"]],function(t,n,e){var o=!0;return"click"===n&&(o=!1!==t.component.selectAll()&&o),o},null,null)),(t()(),o["\u0275eld"](28,0,null,null,1,"ion-icon",[],null,null,null,m.U,m.o)),o["\u0275did"](29,49152,null,0,s.IonIcon,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],{name:[0,"name"]},null),(t()(),o["\u0275ted"](-1,null,["\xa0\u5168\u9009 "])),(t()(),o["\u0275eld"](31,0,null,0,3,"ion-col",[["col-6",""]],null,null,null,m.O,m.i)),o["\u0275did"](32,49152,null,0,s.IonCol,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275eld"](33,0,null,0,1,"div",[["class","sec-box confirm"],["tappable",""]],[[2,"disabled",null]],[[null,"click"]],function(t,n,e){var o=!0;return"click"===n&&(o=!1!==t.component.confirm()&&o),o},null,null)),(t()(),o["\u0275ted"](-1,null,[" \u786e\xa0\u5b9a "]))],function(t,n){var e=n.component;t(n,3,0,"primary"),t(n,18,0,e.positions),t(n,21,0,e.currentIndex<e.positions.length),t(n,29,0,o["\u0275inlineInterpolate"](1,"",e.isAll?"ios-checkmark-circle":"ios-radio-button-off",""))},function(t,n){var e=n.component;t(n,27,0,e.isAll),t(n,33,0,0===e.selectedItems.length)})}function D(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"app-check-place-list",[],null,null,null,k,M)),o["\u0275did"](1,114688,null,0,u,[i.a,r.a,s.Events,c.a,l.a],null,null)],function(t,n){t(n,1,0)},null)}var E=o["\u0275ccf"]("app-check-place-list",u,D,{},{},[]),R=e("gIcY"),N=e("l4Sw"),B=e("j1ZV"),T=e("ZYCi");e.d(n,"CheckPlaceListPageModuleNgFactory",function(){return L});var L=o["\u0275cmf"](d,[],function(t){return o["\u0275mod"]([o["\u0275mpd"](512,o.ComponentFactoryResolver,o["\u0275CodegenComponentFactoryResolver"],[[8,[h.a,p.a,E]],[3,o.ComponentFactoryResolver],o.NgModuleRef]),o["\u0275mpd"](4608,g.NgLocalization,g.NgLocaleLocalization,[o.LOCALE_ID,[2,g["\u0275angular_packages_common_common_a"]]]),o["\u0275mpd"](4608,R["\u0275angular_packages_forms_forms_j"],R["\u0275angular_packages_forms_forms_j"],[]),o["\u0275mpd"](4608,s.AngularDelegate,s.AngularDelegate,[o.NgZone,o.ApplicationRef]),o["\u0275mpd"](4608,s.ModalController,s.ModalController,[s.AngularDelegate,o.ComponentFactoryResolver,o.Injector]),o["\u0275mpd"](4608,s.PopoverController,s.PopoverController,[s.AngularDelegate,o.ComponentFactoryResolver,o.Injector]),o["\u0275mpd"](1073742336,g.CommonModule,g.CommonModule,[]),o["\u0275mpd"](1073742336,R["\u0275angular_packages_forms_forms_bc"],R["\u0275angular_packages_forms_forms_bc"],[]),o["\u0275mpd"](1073742336,R.FormsModule,R.FormsModule,[]),o["\u0275mpd"](1073742336,s.IonicModule,s.IonicModule,[]),o["\u0275mpd"](1073742336,N.a,N.a,[]),o["\u0275mpd"](1073742336,B.a,B.a,[]),o["\u0275mpd"](1073742336,T.n,T.n,[[2,T.t],[2,T.m]]),o["\u0275mpd"](1073742336,d,d,[]),o["\u0275mpd"](1024,T.k,function(){return[[{path:"",component:u}]]},[])])})},DsRR:function(t,n,e){"use strict";e("ZZ/e");class o{constructor(t,n,e){this.x=t,this.y=n,this.time=e||Date.now()}distanceTo(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}equals(t){return this.x===t.x&&this.y===t.y&&this.time===t.time}velocityFrom(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}}class i{constructor(t,n,e,o,i,l){this.startPoint=t,this.control2=n,this.control1=e,this.endPoint=o,this.startWidth=i,this.endWidth=l}static fromPoints(t,n){const e=this.calculateControlPoints(t[0],t[1],t[2]).c2,o=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new i(t[1],e,o,t[2],n.start,n.end)}static calculateControlPoints(t,n,e){const i=t.x-n.x,l=t.y-n.y,c=n.x-e.x,a=n.y-e.y,s=(t.x+n.x)/2,r=(t.y+n.y)/2,u=(n.x+e.x)/2,d=(n.y+e.y)/2,h=Math.sqrt(i*i+l*l),p=Math.sqrt(c*c+a*a),g=p/(h+p),m=n.x-(u+(s-u)*g),f=n.y-(d+(r-d)*g);return{c1:new o(s+m,r+f),c2:new o(u+m,d+f)}}length(){let t,n,e=0;for(let o=0;o<=10;o+=1){const i=o/10,l=this.point(i,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),c=this.point(i,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(o>0){const o=l-t,i=c-n;e+=Math.sqrt(o*o+i*i)}t=l,n=c}return e}point(t,n,e,o,i){return n*(1-t)*(1-t)*(1-t)+3*e*(1-t)*(1-t)*t+3*o*(1-t)*t*t+i*t*t*t}}class l{constructor(t,n={}){this.canvas=t,this.options=n,this._handleMouseDown=(t=>{1===t.which&&(this._mouseButtonDown=!0,this._strokeBegin(t))}),this._handleMouseMove=(t=>{this._mouseButtonDown&&this._strokeMoveUpdate(t)}),this._handleMouseUp=(t=>{1===t.which&&this._mouseButtonDown&&(this._mouseButtonDown=!1,this._strokeEnd(t))}),this._handleTouchStart=(t=>{t.preventDefault(),1===t.targetTouches.length&&this._strokeBegin(t.changedTouches[0])}),this._handleTouchMove=(t=>{t.preventDefault(),this._strokeMoveUpdate(t.targetTouches[0])}),this._handleTouchEnd=(t=>{t.target===this.canvas&&(t.preventDefault(),this._strokeEnd(t.changedTouches[0]))}),this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.throttle="throttle"in n?n.throttle:16,this.minDistance="minDistance"in n?n.minDistance:5,this._strokeMoveUpdate=this.throttle?function(t,n=250){let e,o,i,l=0,c=null;const a=()=>{l=Date.now(),c=null,e=t.apply(o,i),c||(o=null,i=[])};return function(...s){const r=Date.now(),u=n-(r-l);return o=this,i=s,u<=0||u>n?(c&&(clearTimeout(c),c=null),l=r,e=t.apply(o,i),c||(o=null,i=[])):c||(c=window.setTimeout(a,u)),e}}(l.prototype._strokeUpdate,this.throttle):l.prototype._strokeUpdate,this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.onBegin=n.onBegin,this.onEnd=n.onEnd,this._ctx=t.getContext("2d"),this.clear(),this.on()}clear(){const t=this._ctx,n=this.canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,n.width,n.height),t.fillRect(0,0,n.width,n.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(t,n={},e){const o=new Image,i=n.ratio||window.devicePixelRatio||1,l=n.width||this.canvas.width/i,c=n.height||this.canvas.height/i;this._reset(),o.onload=(()=>{this._ctx.drawImage(o,0,0,l,c),e&&e()}),o.onerror=(t=>{e&&e(t)}),o.src=t,this._isEmpty=!1}toDataURL(t="image/png",n){switch(t){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(t,n)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(t){this.clear(),this._fromData(t,({color:t,curve:n})=>this._drawCurve({color:t,curve:n}),({color:t,point:n})=>this._drawDot({color:t,point:n})),this._data=t}toData(){return this._data}_strokeBegin(t){this._data.push({color:this.penColor,points:[]}),this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)}_strokeUpdate(t){const n=this._createPoint(t.clientX,t.clientY),e=this._data[this._data.length-1],o=e.points,i=o.length>0&&o[o.length-1],l=!!i&&n.distanceTo(i)<=this.minDistance,c=e.color;if(!i||!i||!l){const t=this._addPoint(n);i?t&&this._drawCurve({color:c,curve:t}):this._drawDot({color:c,point:n}),o.push({time:n.time,x:n.x,y:n.y})}}_strokeEnd(t){this._strokeUpdate(t),"function"==typeof this.onEnd&&this.onEnd(t)}_handlePointerEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)}_handleMouseEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(t,n){const e=this.canvas.getBoundingClientRect();return new o(t-e.left,n-e.top,(new Date).getTime())}_addPoint(t){const{_lastPoints:n}=this;if(n.push(t),n.length>2){3===n.length&&n.unshift(n[0]);const t=this._calculateCurveWidths(n[1],n[2]),e=i.fromPoints(n,t);return n.shift(),e}return null}_calculateCurveWidths(t,n){const e=this.velocityFilterWeight*n.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(e),i={end:o,start:this._lastWidth};return this._lastVelocity=e,this._lastWidth=o,i}_strokeWidth(t){return Math.max(this.maxWidth/(t+1),this.minWidth)}_drawCurveSegment(t,n,e){const o=this._ctx;o.moveTo(t,n),o.arc(t,n,e,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve({color:t,curve:n}){const e=this._ctx,o=n.endWidth-n.startWidth,i=2*Math.floor(n.length());e.beginPath(),e.fillStyle=t;for(let l=0;l<i;l+=1){const t=l/i,e=t*t,c=e*t,a=1-t,s=a*a,r=s*a;let u=r*n.startPoint.x;u+=3*s*t*n.control1.x,u+=3*a*e*n.control2.x;let d=r*n.startPoint.y;d+=3*s*t*n.control1.y,d+=3*a*e*n.control2.y,this._drawCurveSegment(u+=c*n.endPoint.x,d+=c*n.endPoint.y,n.startWidth+c*o)}e.closePath(),e.fill()}_drawDot({color:t,point:n}){const e=this._ctx,o="function"==typeof this.dotSize?this.dotSize():this.dotSize;e.beginPath(),this._drawCurveSegment(n.x,n.y,o),e.closePath(),e.fillStyle=t,e.fill()}_fromData(t,n,e){for(const i of t){const{color:t,points:l}=i;if(l.length>1)for(let e=0;e<l.length;e+=1){const i=l[e],c=new o(i.x,i.y,i.time);this.penColor=t,0===e&&this._reset();const a=this._addPoint(c);a&&n({color:t,curve:a})}else this._reset(),e({color:t,point:l[0]})}}_toSVG(){const t=this._data,n=Math.max(window.devicePixelRatio||1,1),e=this.canvas.width/n,o=this.canvas.height/n,i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width",this.canvas.width.toString()),i.setAttribute("height",this.canvas.height.toString()),this._fromData(t,({color:t,curve:n})=>{const e=document.createElement("path");if(!(isNaN(n.control1.x)||isNaN(n.control1.y)||isNaN(n.control2.x)||isNaN(n.control2.y))){const o=`M ${n.startPoint.x.toFixed(3)},${n.startPoint.y.toFixed(3)} `+`C ${n.control1.x.toFixed(3)},${n.control1.y.toFixed(3)} `+`${n.control2.x.toFixed(3)},${n.control2.y.toFixed(3)} `+`${n.endPoint.x.toFixed(3)},${n.endPoint.y.toFixed(3)}`;e.setAttribute("d",o),e.setAttribute("stroke-width",(2.25*n.endWidth).toFixed(3)),e.setAttribute("stroke",t),e.setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),i.appendChild(e)}},({color:t,point:n})=>{const e=document.createElement("circle"),o="function"==typeof this.dotSize?this.dotSize():this.dotSize;e.setAttribute("r",o.toString()),e.setAttribute("cx",n.x.toString()),e.setAttribute("cy",n.y.toString()),e.setAttribute("fill",t),i.appendChild(e)});const l='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+` viewBox="0 0 ${e} ${o}"`+` width="${e}"`+` height="${o}"`+">";let c=i.innerHTML;if(void 0===c){const t=document.createElement("dummy"),n=i.childNodes;t.innerHTML="";for(let e=0;e<n.length;e+=1)t.appendChild(n[e].cloneNode(!0));c=t.innerHTML}return"data:image/svg+xml;base64,"+btoa(l+c+"</svg>")}}var c=l;e.d(n,"a",function(){return a});var a=function(){function t(t){this.modalCtrl=t,this.signaturePad=null}return t.prototype.ngOnInit=function(){this.initCanvas(),window.onresize=this.initCanvas},t.prototype.initCanvas=function(){var t=this,n=document.getElementById("canvas"),e=new c(n,{penColor:"red"});this.signaturePad=e;var o=document.body.clientWidth,i=new Image;i.onload=function(){var l=Math.min(o,i.width),c=i.height*(l/i.width);n.width=l,n.height=c,e.fromDataURL(t.imageUrl,{width:l,height:c})},i.src=this.imageUrl},t.prototype.clear=function(){this.signaturePad.clear(),this.initCanvas()},t.prototype.close=function(){this.modalCtrl.dismiss().catch()},t.prototype.done=function(){var t=this.signaturePad.toDataURL("image/jpeg",1);this.signaturePad.clear(),this.modalCtrl.dismiss(t)},t}()},"J+Oa":function(t,n,e){"use strict";var o=e("CcnG");e("4IN5"),e.d(n,"a",function(){return i}),e.d(n,"b",function(){return l});var i=o["\u0275crt"]({encapsulation:0,styles:[[".wrapper[_ngcontent-%COMP%]{transition:.2s linear}.expand-wrapper[_ngcontent-%COMP%]{width:100%}.collapsed[_ngcontent-%COMP%]{height:0!important}"]],data:{}});function l(t){return o["\u0275vid"](0,[o["\u0275qud"](402653184,1,{wrapper:0}),(t()(),o["\u0275eld"](1,0,[[1,0],["wrapper",1]],null,1,"div",[["class","expand-wrapper"]],[[2,"collapsed",null]],null,null,null,null)),o["\u0275ncd"](null,0)],null,function(t,n){t(n,1,0,!n.component.expanded)})}},"Ja+p":function(t,n,e){"use strict";e.d(n,"a",function(){return l});var o=e("ZZ/e"),i=e("CcnG"),l=function(){function t(t){this.navCtrl=t}return t.prototype.push=function(t,n){void 0===n&&(n={}),this.data=n,this.navCtrl.navigateForward("/"+(t||""))},t.prototype.pop=function(t){this.navCtrl.navigateBack("/"+(t||""))},t.prototype.get=function(t){return this.data[t]},t.ngInjectableDef=i.defineInjectable({factory:function(){return new t(i.inject(o.NavController))},token:t,providedIn:"root"}),t}()},NAMV:function(t,n,e){"use strict";var o=e("CcnG"),i=e("oBZk"),l=e("ZZ/e"),c=e("DsRR");e.d(n,"a",function(){return u});var a=o["\u0275crt"]({encapsulation:0,styles:[[".canvas-wrap[_ngcontent-%COMP%]{width:100%;height:100%;background:#000;display:flex;align-items:center;text-align:center}.canvas-wrap[_ngcontent-%COMP%]   .img-canvas[_ngcontent-%COMP%]{margin:0 auto}"]],data:{}});function s(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,20,"ion-header",[["no-border",""]],null,null,null,i.T,i.n)),o["\u0275did"](1,49152,null,0,l.IonHeader,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275eld"](2,0,null,0,18,"ion-toolbar",[["color","primary"]],null,null,null,i.kb,i.E)),o["\u0275did"](3,49152,null,0,l.IonToolbar,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],{color:[0,"color"]},null),(t()(),o["\u0275eld"](4,0,null,0,5,"ion-buttons",[["slot","start"]],null,null,null,i.J,i.d)),o["\u0275did"](5,49152,null,0,l.IonButtons,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275eld"](6,0,null,0,3,"ion-button",[],null,[[null,"click"]],function(t,n,e){var o=!0;return"click"===n&&(o=!1!==t.component.close()&&o),o},i.I,i.c)),o["\u0275did"](7,49152,null,0,l.IonButton,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275eld"](8,0,null,0,1,"ion-icon",[["name","close"],["slot","icon-only"]],null,null,null,i.U,i.o)),o["\u0275did"](9,49152,null,0,l.IonIcon,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],{name:[0,"name"]},null),(t()(),o["\u0275eld"](10,0,null,0,2,"ion-title",[],null,null,null,i.jb,i.D)),o["\u0275did"](11,49152,null,0,l.IonTitle,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275ted"](-1,0,["\u6807\u8bb0\u4f4d\u7f6e"])),(t()(),o["\u0275eld"](13,0,null,0,7,"ion-buttons",[["slot","end"]],null,null,null,i.J,i.d)),o["\u0275did"](14,49152,null,0,l.IonButtons,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275eld"](15,0,null,0,2,"ion-button",[],null,[[null,"click"]],function(t,n,e){var o=!0;return"click"===n&&(o=!1!==t.component.clear()&&o),o},i.I,i.c)),o["\u0275did"](16,49152,null,0,l.IonButton,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275ted"](-1,0,[" \u6e05\u9664 "])),(t()(),o["\u0275eld"](18,0,null,0,2,"ion-button",[],null,[[null,"click"]],function(t,n,e){var o=!0;return"click"===n&&(o=!1!==t.component.done()&&o),o},i.I,i.c)),o["\u0275did"](19,49152,null,0,l.IonButton,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275ted"](-1,0,[" \u786e\u5b9a "])),(t()(),o["\u0275eld"](21,0,null,null,4,"ion-content",[],null,null,null,i.P,i.j)),o["\u0275did"](22,49152,null,0,l.IonContent,[o.ChangeDetectorRef,o.ElementRef,o.NgZone],null,null),(t()(),o["\u0275eld"](23,0,null,0,2,"div",[["class","canvas-wrap"],["id","canvas-wrap"]],null,null,null,null,null)),(t()(),o["\u0275eld"](24,0,null,null,1,"canvas",[["class","img-canvas"],["id","canvas"]],null,null,null,null,null)),(t()(),o["\u0275ted"](-1,null,[" \u60a8\u7684\u7834\u6d4f\u89c8\u5668\u4e0d\u517c\u5bb9\uff0c\u8bf7\u5347\u7ea7\uff01 "]))],function(t,n){t(n,3,0,"primary"),t(n,9,0,"close")},null)}function r(t){return o["\u0275vid"](0,[(t()(),o["\u0275eld"](0,0,null,null,1,"app-image-edit",[],null,null,null,s,a)),o["\u0275did"](1,114688,null,0,c.a,[l.ModalController],null,null)],function(t,n){t(n,1,0)},null)}var u=o["\u0275ccf"]("app-image-edit",c.a,r,{imageUrl:"imageUrl"},{},[])},j1ZV:function(t,n,e){"use strict";e.d(n,"a",function(){return o});var o=function(){return function(){}}()},l4Sw:function(t,n,e){"use strict";e.d(n,"a",function(){return o});var o=function(){return function(){}}()}}]);